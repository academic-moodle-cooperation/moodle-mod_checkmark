define("mod_checkmark/utils",["jquery","core/str"],(function($,str){var baseurl,Utils=function(){this.baseurl=M.cfg.wwwroot+"/mod/checkmark/handlehideall.php"};return Utils.prototype.toggleExamples=function(show){show?this.getForAllExamples("false"):this.getForAllExamples("true")},Utils.prototype.getForAllExamples=function(key){var allexamples=this.getExampleSelectors();$.ajax({url:baseurl,data:{hide:key,columns:allexamples},statusCode:{200:function(){var url=window.location.href;url=url.replace(/thide=[a-z0-9]+/,"").replace(/tshow=[a-z0-9]+/,"").replace(/\?&/,"?").replace(/&&/,"&").replace(/&$/,""),window.location.replace(url)}}})},Utils.prototype.getExampleSelectors=function(){var allexamples=[];return $("th.colexample").each((function(){$(this).attr("class").split(" ").forEach((function(value){value.startsWith("example")&&allexamples.push(value)}))})),allexamples},Utils.prototype.allExamplesCollapsed=function(){return 0===$("th.colexample > .commands").length},Utils.prototype.getBaseUrl=function(){return this.baseurl},Utils.prototype.clearPointerEventsFromIcons=function(){$(".fa-minus,.fa-plus").css("pointer-events","none")},{init:function(){var utils=new Utils;$("th.timesubmitted").after('<th><div id="showallcontainer"><a id="showall" href="javascript:void(0)"><i class="icon fa fa-plus fa-fw " id="showalltoggle"></i></a></div></th>');$("td.timesubmitted").after("<td></td>");$("th.colexample:eq(0)").prepend('<div id="hideallcontainer" style="position: absolute"><span id="hidealllabel" style="margin-right: 5px"></span><a id="hideall" href="javascript:void(0);"><i class="icon fa fa-minus fa-fw " id="hidealltoggle"></i></a></div><div>&nbsp;</div>');$("colgroup.timesubmitted").after('<colgroup class="showall" span="1"><col></colgroup>');str.get_strings([{key:"showalltoggle",component:"checkmark"},{key:"hidealltoggle",component:"checkmark"},{key:"strexamples",component:"checkmark"}]).then((function(results){$("#showall").prop("aria-label",results[0]).prop("title",results[0]),$("#hideall").prop("aria-label",results[1]).prop("title",results[1]),$("#hidealllabel").text(results[2])})),$("th.colexample").length>0&&!utils.allExamplesCollapsed()?($("#hideallcontainer").show(),$("#showallcontainer").hide()):($("#hideallcontainer").hide(),$(".colexample").hide(),$("#showallcontainer").show(),$("colgroup.examples").hide()),$(document).ready((function(){$("#hideall").click((function(){utils.toggleExamples(!1)})),$("#showall").click((function(){utils.toggleExamples(!0)})),utils.clearPointerEventsFromIcons()})),baseurl=utils.getBaseUrl()}}}));

//# sourceMappingURL=utils.min.js.map